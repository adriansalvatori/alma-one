const{__:__,_x:_x,_n:_n,_nx:_nx}=wp.i18n;export function moduleData(){return{props:{returnData:Function,value:String},data:function(){return{data:this.formatVal(this.value),search:"",strings:{username:__("Username","uipress-pro"),name:__("Name","uipress-pro"),password:__("Password","uipress-pro"),testConnection:__("Test connection","uipress-pro"),host:__("Host","uipress-pro"),enabled:__("Enabled","uipress-pro")}}},inject:["uipData","uipress"],watch:{data:{handler(t,s){this.returnData(this.data)},deep:!0}},mounted:function(){},computed:{returnDynamicData(){return Object.keys(this.dynamics).sort().reduce((t,s)=>(t[s]=this.dynamics[s],t),{})}},methods:{formatVal(t){return void 0===t?{}:this.uipress.isObject(t)?t:{}},testDB(){let t=this,s=JSON.stringify(t.data),e=new FormData;e.append("action","uip_test_remote_database"),e.append("security",uip_ajax.security),e.append("dataBase",s),t.uipress.callServer(uip_ajax.ajax_url,e).then(s=>{if(t.loading=!1,s.error)return t.uipress.notify(s.message,s.details,"error",!0,!1),void(t.loading=!1);t.uipress.notify(s.message,"","success",!0,!1)})}},template:'\n      \n      <div class="uip-flex uip-flex-column uip-row-gap-s">\n      \n        <div class="">\n          <switch-select :value="data.enabled" :returnData="function(d){data.enabled = d}">\n        </div>\n      \n        <div class="" v-if="data.enabled">\n          <div class="uip-text-s uip-text-muted uip-margin-bottom-xxs">{{strings.host}}</div>\n          <input placeholder="path.com/to/host:port" type="text" class="uip-input uip-w-100p" v-model="data.host">\n        </div>\n        \n        <div class="uip-grid-col-2" v-if="data.enabled">\n        \n          <div class="">\n            <div class="uip-text-s uip-text-muted uip-margin-bottom-xxs">{{strings.username}}</div>\n            <input :placeholder="strings.username" type="text" class="uip-input" v-model="data.username">\n          </div>\n          \n          <div class="">\n            <div class="uip-text-s uip-text-muted uip-margin-bottom-xxs">{{strings.name}}</div>\n            <input :placeholder="strings.name" type="text" class="uip-input" v-model="data.name">\n          </div>\n          \n          <div class="">\n            <div class="uip-text-s uip-text-muted uip-margin-bottom-xxs">{{strings.password}}</div>\n            <input :placeholder="strings.password" type="password" class="uip-input" v-model="data.password">\n          </div>\n        \n        </div>\n        \n        <div class="uip-margin-top-xs" v-if="data.enabled">\n          <button @click="testDB()" class="uip-button-default">{{strings.testConnection}}</button>\n        </div>\n        \n      </div>\n      \n    \n    '}};